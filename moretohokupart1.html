<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆé›†è¨ˆçµæœ ç¬¬1å›</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700;900&family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  :root { --bg:#F5F0EB;--card:#FFFFFF;--ink:#1A1A2E;--ink-sub:#5C5C6F;--accent:#D64933;--accent2:#2D6A4F;--accent3:#264653;--border:#E0D8CF;--shadow:0 2px 16px rgba(26,26,46,0.06);--radius:14px; }
  *{margin:0;padding:0;box-sizing:border-box}
  body{font-family:'Noto Sans JP',sans-serif;background:var(--bg);color:var(--ink);line-height:1.6;-webkit-font-smoothing:antialiased}
  .header{background:linear-gradient(135deg,#264653 0%,#1A1A2E 100%);color:#fff;padding:48px 40px 40px;position:relative;overflow:hidden}
  .header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(214,73,51,.15) 0%,transparent 70%);border-radius:50%}
  .header h1{font-family:'Zen Maru Gothic',sans-serif;font-size:28px;font-weight:700;letter-spacing:.02em;position:relative;z-index:1}
  .header .subtitle{font-size:14px;opacity:.7;margin-top:6px;font-weight:300;position:relative;z-index:1}
  .kpi-strip{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;padding:0 32px;margin-top:-28px;position:relative;z-index:2}
  .kpi{background:var(--card);border-radius:var(--radius);padding:20px 22px;box-shadow:var(--shadow);border-left:4px solid var(--accent);animation:slideUp .5s ease both}
  .kpi:nth-child(2){border-left-color:var(--accent2);animation-delay:.06s}
  .kpi:nth-child(3){border-left-color:var(--accent3);animation-delay:.12s}
  .kpi:nth-child(4){border-left-color:#E9C46A;animation-delay:.18s}
  .kpi .label{font-size:11px;color:var(--ink-sub);font-weight:500;text-transform:uppercase;letter-spacing:.06em}
  .kpi .value{font-family:'Zen Maru Gothic',sans-serif;font-size:32px;font-weight:700;margin-top:2px}
  .kpi .note{font-size:11px;color:var(--ink-sub);margin-top:2px}
  @keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
  .container{max-width:1320px;margin:0 auto;padding:32px}
  .q-section{background:var(--card);border-radius:var(--radius);padding:32px;box-shadow:var(--shadow);margin-bottom:28px;animation:slideUp .5s ease both}
  .q-header{display:flex;align-items:center;gap:12px;margin-bottom:24px;border-bottom:2px solid var(--bg);padding-bottom:16px;flex-wrap:wrap}
  .q-tag{display:inline-block;font-size:11px;font-weight:700;color:#fff;background:var(--accent3);padding:4px 14px;border-radius:20px;letter-spacing:.05em;flex-shrink:0}
  .q-header h2{font-family:'Zen Maru Gothic',sans-serif;font-size:17px;font-weight:700;color:var(--ink)}
  .q-header .n-label{margin-left:auto;font-size:12px;color:var(--ink-sub);flex-shrink:0}
  .chart-row{display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start}
  @media(max-width:860px){.chart-row{grid-template-columns:1fr}}
  .chart-col{position:relative}
  .chart-col h3{font-size:12px;color:var(--ink-sub);font-weight:500;margin-bottom:12px;text-align:center;letter-spacing:.04em}
  .chart-col canvas{width:100%!important}
  .q3-group{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:28px;overflow:hidden;animation:slideUp .5s ease both}
  .q3-group .q3-main{padding:32px 32px 24px}
  .q3-sub{background:#F9F7F4;border-top:2px dashed var(--border);padding:28px 32px 32px;position:relative}
  .connector-badge{position:absolute;top:-14px;left:50%;transform:translateX(-50%);background:var(--accent2);color:#fff;font-size:10px;font-weight:700;padding:4px 16px;border-radius:20px;letter-spacing:.04em;white-space:nowrap}
  .sub-note{font-size:12px;font-weight:600;color:var(--accent2);margin-bottom:16px;letter-spacing:.03em}
  .footer{text-align:center;padding:32px;font-size:12px;color:var(--ink-sub);opacity:.6}
</style>
</head>
<body>

<div class="header">
  <h1>ğŸ“Š ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆé›†è¨ˆçµæœ</h1>
  <div class="subtitle">ç¬¬1å› ï½œ æœ‰åŠ¹å›ç­”æ•° 92ä»¶</div>
</div>
<div class="kpi-strip">
  <div class="kpi"><div class="label">æœ‰åŠ¹å›ç­”</div><div class="value">92<span style="font-size:16px;font-weight:400">ä»¶</span></div></div>
  <div class="kpi"><div class="label">é–¢å¿ƒãŒé«˜ã¾ã£ãŸ</div><div class="value">90.2<span style="font-size:16px;font-weight:400">%</span></div><div class="note">83å / 92å</div></div>
  <div class="kpi"><div class="label">è³¼å…¥è€…å‰²åˆ</div><div class="value">53.3<span style="font-size:16px;font-weight:400">%</span></div><div class="note">49åãŒè³¼å…¥</div></div>
  <div class="kpi"><div class="label">æœ€å¤šæ¥å ´ãã£ã‹ã‘</div><div class="value" style="font-size:22px">é€šã‚ŠãŒã‹ã‚Š</div><div class="note">83.7%ï¼ˆ77åï¼‰</div></div>
</div>

<div class="container">
  <div class="q-section"><div class="q-header"><span class="q-tag">Q1</span><h2>å¹´é½¢ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q1Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q1Pie"></canvas></div></div></div>
  <div class="q-section"><div class="q-header"><span class="q-tag">Q2</span><h2>æ€§åˆ¥ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q2Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q2Pie"></canvas></div></div></div>

  <div class="q3-group">
    <div class="q3-main"><div class="q-header"><span class="q-tag">Q3</span><h2>ãŠä½ã¾ã„ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q3Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q3Pie"></canvas></div></div></div>
    <div class="q3-sub">
      <div class="connector-badge">â–¼ Q3ã§ã€Œä»™å°å¸‚å†…ã€ã¨å›ç­”ã—ãŸ 64å ã®å†…è¨³</div>
      <div class="sub-note">â–¼ ä¸Šè¨˜ã€Œä»™å°å¸‚å†…ã€64åã®ã†ã¡ã€ãŠä½ã¾ã„ã®åŒºã®å†…è¨³</div>
      <div class="q-header" style="border:none;padding:0;margin-bottom:20px"><span class="q-tag" style="background:#2D6A4F">Q3-2</span><h2>ãŠä½ã¾ã„ã®åŒºã‚’æ•™ãˆã¦ãã ã•ã„</h2><span class="n-label">N=64ï¼ˆä»™å°å¸‚å†…å›ç­”è€…ï¼‰</span></div>
      <div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q32Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q32Pie"></canvas></div></div>
    </div>
  </div>

  <div class="q-section"><div class="q-header"><span class="q-tag">Q4</span><h2>æ¥å ´ãã£ã‹ã‘ï¼ˆè¤‡æ•°å›ç­”ï¼‰</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><div style="height:320px"><canvas id="q4Bar"></canvas></div></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q4Pie"></canvas></div></div></div>
  <div class="q-section"><div class="q-header"><span class="q-tag">Q5</span><h2>è³¼å…¥é‡‘é¡ï¼ˆãŠã²ã¨ã‚Šæ§˜ã‚ãŸã‚Šï¼‰</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q5Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q5Pie"></canvas></div></div></div>
  <div class="q-section"><div class="q-header"><span class="q-tag">Q6</span><h2>é­…åŠ›ã‚’æ„Ÿã˜ãŸãƒ–ãƒ¼ã‚¹ï¼ˆè¤‡æ•°å›ç­”ï¼‰</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><div style="height:540px"><canvas id="q6Bar"></canvas></div></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•ï¼ˆä¸Šä½4ã®ã¿ãƒ©ãƒ™ãƒ«è¡¨ç¤ºï¼‰</h3><canvas id="q6Pie"></canvas></div></div></div>
  <div class="q-section"><div class="q-header"><span class="q-tag">Q7</span><h2>æ±åŒ—ã®å„åœ°åŸŸã¸ã®é–¢å¿ƒãŒé«˜ã¾ã‚Šã¾ã—ãŸã‹ï¼Ÿ</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><canvas id="q7Bar"></canvas></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•</h3><canvas id="q7Pie"></canvas></div></div></div>
  <div class="q-section"><div class="q-header"><span class="q-tag">Q8</span><h2>ã‚¤ãƒ™ãƒ³ãƒˆæ„Ÿæƒ³ï¼ˆè¤‡æ•°å›ç­”ï¼‰</h2><span class="n-label">N=92</span></div><div class="chart-row"><div class="chart-col"><h3>æ£’ã‚°ãƒ©ãƒ•</h3><div style="height:380px"><canvas id="q8Bar"></canvas></div></div><div class="chart-col"><h3>å††ã‚°ãƒ©ãƒ•ï¼ˆä¸Šä½4ã®ã¿ãƒ©ãƒ™ãƒ«è¡¨ç¤ºï¼‰</h3><canvas id="q8Pie"></canvas></div></div></div>
</div>
<div class="footer">ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆé›†è¨ˆçµæœ ç¬¬1å› ï½œ N=92</div>

<script>
Chart.register(ChartDataLabels);
Chart.defaults.font.family = "'Noto Sans JP', sans-serif";
Chart.defaults.font.size = 22;
Chart.defaults.color = '#5C5C6F';

const C = ['#264653','#2A9D8F','#E9C46A','#F4A261','#D64933','#6A4C93','#1982C4','#8AC926','#BC6C25','#606C38','#DDA15E','#C77DFF','#588157'];

/* ================================================================
   ã‚¹ãƒãƒ¼ãƒˆå††ã‚°ãƒ©ãƒ•ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
   - ã‚»ã‚°ãƒ¡ãƒ³ãƒˆãŒååˆ†å¤§ãã„ â†’ å††å†…ã«ãƒ©ãƒ™ãƒ«
   - ã‚»ã‚°ãƒ¡ãƒ³ãƒˆãŒå°ã•ã„   â†’ å¼•ãå‡ºã—ç·šã§å¤–ã«ãƒ©ãƒ™ãƒ«
   - topNåˆ¶é™å¯¾å¿œï¼ˆQ6, Q8ç”¨ï¼‰
   ================================================================ */
const smartPiePlugin = {
  id: 'smartPieLabels',
  afterDraw(chart) {
    const cfg = chart.config.options.plugins.smartPieLabels;
    if (!cfg || !cfg.enabled) return;
    const meta = chart.getDatasetMeta(0);
    if (!meta || !meta.data.length) return;

    const ctx = chart.ctx;
    const data = chart.data.datasets[0].data;
    const total = data.reduce((a, b) => a + b, 0);
    if (total === 0) return;

    const topN = cfg.topN || 999;
    const threshold = cfg.threshold || 0.08; // 8%æœªæº€ã¯ã€Œå°ã•ã„ã€

    // ä¸Šä½Nä»¶ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    const ranked = data.map((v, i) => ({ v, i })).sort((a, b) => b.v - a.v);
    const topSet = new Set(ranked.slice(0, topN).map(x => x.i));

    // å¼•ãå‡ºã—ç·šã§å¤–ã«å‡ºã™ã‚‚ã®ï¼ˆå·¦å³æŒ¯ã‚Šåˆ†ã‘ï¼‰
    const outerLeft = [];
    const outerRight = [];

    const innerLabels = [];

    meta.data.forEach((arc, i) => {
      if (!topSet.has(i)) return;
      const v = data[i];
      if (v === 0) return;

      const ratio = v / total;
      const pct = (ratio * 100).toFixed(1);
      const txt = v + 'ä»¶\n' + pct + '%';
      const txtOneLine = v + 'ä»¶ (' + pct + '%)';

      const midAngle = (arc.startAngle + arc.endAngle) / 2;
      const cos = Math.cos(midAngle);
      const sin = Math.sin(midAngle);
      const { x: cx, y: cy } = arc.getCenterPoint();
      const outerR = arc.outerRadius;

      if (ratio >= threshold) {
        // â”€â”€ å¤§ãã„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ: å††å†…ã«ãƒ©ãƒ™ãƒ« â”€â”€
        innerLabels.push({
          angle: midAngle,
          radius: outerR * 0.6,
          outerR,
          centerX: cx,
          centerY: cy,
          lines: txt.split('\n'),
          baseFont: 18,
          sliceSize: arc.endAngle - arc.startAngle
        });
      } else {
        // â”€â”€ å°ã•ã„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ: å¼•ãå‡ºã—ç·šã§å¤–ã¸ â”€â”€
        const isRight = cos >= 0;
        const p1x = cx + outerR * 0.88 * cos;
        const p1y = cy + outerR * 0.88 * sin;
        const elbowLen = outerR * 0.25;
        const p2x = cx + (outerR + elbowLen) * cos;
        const p2y = cy + (outerR + elbowLen) * sin;
        const item = {
          txt: txtOneLine, p1x, p1y, p2x, p2y,
          naturalY: p2y, finalY: p2y,
          isRight,
          color: chart.data.datasets[0].backgroundColor[i] || C[i % C.length]
        };
        if (isRight) outerRight.push(item); else outerLeft.push(item);
      }
    });

    // å††å†…ãƒ©ãƒ™ãƒ«ã®é‡ãªã‚Šèª¿æ•´ï¼ˆãƒ•ã‚©ãƒ³ãƒˆç¸®å° + å†…å´ç§»å‹•ï¼‰
    const placedInner = [];
    innerLabels
      .sort((a, b) => b.sliceSize - a.sliceSize)
      .forEach(label => {
        let fontSize = label.baseFont;
        let radius = label.radius;
        let tries = 0;
        let box;

        while (tries < 12) {
          const lx = label.centerX + radius * Math.cos(label.angle);
          const ly = label.centerY + radius * Math.sin(label.angle);
          ctx.save();
          ctx.font = `bold ${fontSize}px "Noto Sans JP", sans-serif`;
          const lineH = fontSize + 4;
          const maxWidth = Math.max(...label.lines.map(line => ctx.measureText(line).width));
          const height = lineH * label.lines.length;
          ctx.restore();
          box = {
            x: lx - maxWidth / 2,
            y: ly - height / 2,
            w: maxWidth,
            h: height,
            lx,
            ly,
            fontSize,
            lineH,
            lines: label.lines
          };

          const overlap = placedInner.some(p => {
            return (
              box.x < p.x + p.w &&
              box.x + box.w > p.x &&
              box.y < p.y + p.h &&
              box.y + box.h > p.y
            );
          });

          if (!overlap) break;
          fontSize = Math.max(12, fontSize - 1);
          radius = Math.max(label.outerR * 0.35, radius - label.outerR * 0.04);
          tries += 1;
        }
        if (box) placedInner.push(box);
      });

    // å††å†…ãƒ©ãƒ™ãƒ«æç”»
    placedInner.forEach(label => {
      ctx.save();
      ctx.fillStyle = '#fff';
      ctx.font = `bold ${label.fontSize}px "Noto Sans JP", sans-serif`;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.shadowColor = 'rgba(0,0,0,0.4)';
      ctx.shadowBlur = 3;
      const startY = label.ly - (label.lines.length - 1) * label.lineH / 2;
      label.lines.forEach((line, li) => {
        ctx.fillText(line, label.lx, startY + li * label.lineH);
      });
      ctx.restore();
    });

    // é‡ãªã‚Šå›é¿
    function resolveOverlap(items) {
      items.sort((a, b) => a.naturalY - b.naturalY);
      const gap = 26;
      for (let pass = 0; pass < 15; pass++) {
        let moved = false;
        for (let j = 1; j < items.length; j++) {
          const diff = items[j].finalY - items[j - 1].finalY;
          if (diff < gap) {
            const shift = (gap - diff) / 2 + 1;
            items[j - 1].finalY -= shift;
            items[j].finalY += shift;
            moved = true;
          }
        }
        if (!moved) break;
      }
    }
    resolveOverlap(outerLeft);
    resolveOverlap(outerRight);

    // å¼•ãå‡ºã—ç·šæç”»
    function drawOuter(items) {
      items.forEach(lb => {
        const endX = lb.isRight ? lb.p2x + 24 : lb.p2x - 24;
        ctx.save();

        // ç·š
        ctx.strokeStyle = '#999';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.moveTo(lb.p1x, lb.p1y);
        ctx.lineTo(lb.p2x, lb.naturalY);
        ctx.lineTo(endX, lb.finalY);
        ctx.stroke();

        // èµ·ç‚¹ãƒ‰ãƒƒãƒˆ
        ctx.fillStyle = lb.color;
        ctx.beginPath();
        ctx.arc(lb.p1x, lb.p1y, 3, 0, Math.PI * 2);
        ctx.fill();

        // ãƒ†ã‚­ã‚¹ãƒˆ
        ctx.fillStyle = '#1A1A2E';
        ctx.font = 'bold 16px "Noto Sans JP", sans-serif';
        ctx.textBaseline = 'middle';
        ctx.textAlign = lb.isRight ? 'left' : 'right';
        ctx.fillText(lb.txt, lb.isRight ? endX + 5 : endX - 5, lb.finalY);
        ctx.restore();
      });
    }
    drawOuter(outerLeft);
    drawOuter(outerRight);
  }
};
Chart.register(smartPiePlugin);

/* ================================================================
   æ£’ã‚°ãƒ©ãƒ•
   ================================================================ */
function makeBar(id, labels, data, colors, horizontal) {
  new Chart(document.getElementById(id), {
    type: 'bar',
    data: {
      labels,
      datasets: [{
        data,
        backgroundColor: Array.isArray(colors) ? colors : labels.map((_, i) => C[i % C.length]),
        borderRadius: 6,
        maxBarThickness: horizontal ? 28 : 48
      }]
    },
    options: {
      indexAxis: horizontal ? 'y' : 'x',
      responsive: true,
      maintainAspectRatio: !horizontal,
      layout: { padding: { top: horizontal ? 0 : 24, right: horizontal ? 80 : 0 } },
      plugins: {
        legend: { display: false },
        smartPieLabels: { enabled: false },
        datalabels: {
          anchor: 'end',
          align: horizontal ? 'right' : 'top',
          offset: 4,
          font: { size: 22, weight: 600 },
          color: '#1A1A2E',
          formatter: v => v + 'ä»¶'
        },
        tooltip: {
          backgroundColor: '#1A1A2E', cornerRadius: 8, padding: 10,
          titleFont: { size: 18 }, bodyFont: { size: 18 },
          callbacks: { label: c => c.parsed[horizontal ? 'x' : 'y'] + 'ä»¶' }
        }
      },
      scales: {
        x: {
          grid: { display: horizontal, color: '#E0D8CF44' },
          ticks: { maxRotation: 0, font: { size: 20 } },
          beginAtZero: true,
          suggestedMax: horizontal ? Math.max(...data) * 1.25 : undefined
        },
        y: {
          grid: { display: !horizontal, color: '#E0D8CF44' },
          beginAtZero: true,
          suggestedMax: !horizontal ? Math.max(...data) * 1.2 : undefined,
          ticks: { font: { size: 20 } }
        }
      }
    }
  });
}

/* ================================================================
   å††ã‚°ãƒ©ãƒ•ï¼ˆã‚¹ãƒãƒ¼ãƒˆãƒ©ãƒ™ãƒ«æ–¹å¼ï¼‰
   threshold: ã“ã®å‰²åˆæœªæº€ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¯å¼•ãå‡ºã—ç·š
   topN: ãƒ©ãƒ™ãƒ«è¡¨ç¤ºã™ã‚‹ä¸Šä½Nä»¶ï¼ˆQ6/Q8ã§4ã‚’æŒ‡å®šï¼‰
   ================================================================ */
function makePie(id, labels, data, colors, topN, threshold) {
  const total = data.reduce((a, b) => a + b, 0);
  new Chart(document.getElementById(id), {
    type: 'pie',
    data: {
      labels,
      datasets: [{
        data,
        backgroundColor: colors || labels.map((_, i) => C[i % C.length]),
        borderWidth: 2,
        borderColor: '#fff',
        hoverOffset: 8
      }]
    },
    options: {
      responsive: true,
      layout: { padding: { top: 40, bottom: 10, left: 50, right: 50 } },
      plugins: {
        legend: {
          position: 'bottom',
          labels: { padding: 14, usePointStyle: true, pointStyle: 'circle', font: { size: 18 } }
        },
        smartPieLabels: {
          enabled: true,
          topN: topN || 999,
          threshold: threshold !== undefined ? threshold : 0.08
        },
        datalabels: { display: false },
        tooltip: {
          backgroundColor: '#1A1A2E', cornerRadius: 8, padding: 10,
          titleFont: { size: 18 }, bodyFont: { size: 18 },
          callbacks: { label: c => c.label + ': ' + c.parsed + 'ä»¶ (' + (c.parsed / total * 100).toFixed(1) + '%)' }
        }
      }
    }
  });
}

/* â”€â”€ Q1 å¹´é½¢ â”€â”€ */
makeBar('q1Bar', ['10ã€œ19æ­³','20ã€œ29æ­³','30ã€œ39æ­³','40ã€œ49æ­³','50ã€œ59æ­³','60æ­³ã€œ'], [4,14,26,24,12,12], C, false);
makePie('q1Pie', ['10ã€œ19æ­³','20ã€œ29æ­³','30ã€œ39æ­³','40ã€œ49æ­³','50ã€œ59æ­³','60æ­³ã€œ'], [4,14,26,24,12,12], C);

/* â”€â”€ Q2 æ€§åˆ¥ â”€â”€ */
const q2C = ['#264653','#D64933','#E9C46A','#CCCCCC'];
makeBar('q2Bar', ['ç”·æ€§','å¥³æ€§','ãã®ä»–','ç„¡å›ç­”'], [44,46,1,1], q2C, false);
makePie('q2Pie', ['ç”·æ€§','å¥³æ€§','ãã®ä»–','ç„¡å›ç­”'], [44,46,1,1], q2C);

/* â”€â”€ Q3 ãŠä½ã¾ã„ â”€â”€ */
const q3C = ['#2A9D8F','#E9C46A','#F4A261'];
makeBar('q3Bar', ['ä»™å°å¸‚å†…','å®®åŸçœŒå†…\n(ä»™å°å¸‚å¤–)','ãã®ä»–'], [64,17,11], q3C, false);
makePie('q3Pie', ['ä»™å°å¸‚å†…','å®®åŸçœŒå†…(ä»™å°å¸‚å¤–)','ãã®ä»–'], [64,17,11], q3C);

/* â”€â”€ Q3-2 ä»™å°å¸‚å†…ã®åŒº â”€â”€ */
const q32C = ['#264653','#2A9D8F','#E9C46A','#F4A261','#D64933'];
makeBar('q32Bar', ['é’è‘‰åŒº','å®®åŸé‡åŒº','æ³‰åŒº','è‹¥æ—åŒº','å¤ªç™½åŒº'], [33,12,9,6,4], q32C, false);
makePie('q32Pie', ['é’è‘‰åŒº','å®®åŸé‡åŒº','æ³‰åŒº','è‹¥æ—åŒº','å¤ªç™½åŒº'], [33,12,9,6,4], q32C, undefined, 0.08);

/* â”€â”€ Q4 æ¥å ´ãã£ã‹ã‘ â”€â”€ */
makeBar('q4Bar', ['é€šã‚ŠãŒã‹ã‚Š','å‹äººãƒ»å®¶æ—ã«èª˜ã‚ã‚Œã¦','ãƒãƒ³ãƒãƒ«ã‚»ãƒ³ãƒ€ã‚¤ç›®çš„','ãã®ä»–','WEBã‚µã‚¤ãƒˆ','ãƒã‚¹ã‚¿ãƒ¼','ãƒãƒ©ã‚·','SNS'], [77,6,4,3,2,2,1,1], C, true);
makePie('q4Pie', ['é€šã‚ŠãŒã‹ã‚Š','å‹äººãƒ»å®¶æ—ã«èª˜ã‚ã‚Œã¦','ãƒãƒ³ãƒãƒ«ã‚»ãƒ³ãƒ€ã‚¤ç›®çš„','ãã®ä»–','WEBã‚µã‚¤ãƒˆ','ãƒã‚¹ã‚¿ãƒ¼','ãƒãƒ©ã‚·','SNS'], [77,6,4,3,2,2,1,1], C);

/* â”€â”€ Q5 è³¼å…¥é‡‘é¡ â”€â”€ */
const q5C = ['#AAAAAA','#E9C46A','#F4A261','#D64933'];
makeBar('q5Bar', ['è³¼å…¥ã—ã¦ã„ãªã„','ã€œ500å††','500ã€œ1,000å††','1,000å††ä»¥ä¸Š'], [43,11,23,15], q5C, false);
makePie('q5Pie', ['è³¼å…¥ã—ã¦ã„ãªã„','ã€œ500å††','500ã€œ1,000å††','1,000å††ä»¥ä¸Š'], [43,11,23,15], q5C);

/* â”€â”€ Q6 ãƒ–ãƒ¼ã‚¹ï¼ˆä¸Šä½4ã®ã¿ãƒ©ãƒ™ãƒ«ï¼‰ â”€â”€ */
const q6L = ['ã„ã‚‚ç…®JAPANï¼ˆå±±å½¢å¸‚ï¼‰','ç¦å³¶çœŒä¼Šé”å¸‚','ç§‹ç”°çœŒæ¹¯æ²¢å¸‚ï¼ˆæ¼†å·¥æˆ¿ç­‰ï¼‰','ç§‹ç”°çœŒå…«å³°ç”ºï¼ˆãŠé­škitchenï¼‰','ãƒ”ãƒ¼ãƒãƒ›ãƒªãƒ‡ã‚¤ï¼ˆç¦å³¶å¸‚ï¼‰','é“ã®é§…ã‹ãã ï¼ˆè§’ç”°å¸‚ï¼‰','ç½®è³œè¾²æ¥­æŒ¯èˆˆå”è­°ä¼š','Route 227s\' cafÃ©','ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¹ã‚¿ãƒ¼å¤šè³€åŸ','å·å†…æ‘ï¼ˆç¦å³¶çœŒï¼‰','SAKURAIZEï¼ˆçŸ³å·ç”ºï¼‰','ç”°æ‘å¸‚ï¼ˆç¦å³¶çœŒï¼‰','å·¥æˆ¿ã“ã²ãªï¼ˆç™½çŸ³å¸‚ï¼‰'];
const q6D = [33,18,15,14,12,10,6,6,4,3,2,2,1];
makeBar('q6Bar', q6L, q6D, C, true);
makePie('q6Pie', q6L, q6D, C, 4, 0.10);

/* â”€â”€ Q7 é–¢å¿ƒ â”€â”€ */
const q7C = ['#2A9D8F','#E0D8CF'];
makeBar('q7Bar', ['é–¢å¿ƒãŒé«˜ã¾ã£ãŸ','ç‰¹ã«å¤‰ã‚ã‚‰ãªã„'], [83,9], q7C, false);
makePie('q7Pie', ['é–¢å¿ƒãŒé«˜ã¾ã£ãŸ','ç‰¹ã«å¤‰ã‚ã‚‰ãªã„'], [83,9], q7C, undefined, 0.05);

/* â”€â”€ Q8 æ„Ÿæƒ³ï¼ˆä¸Šä½4ã®ã¿ãƒ©ãƒ™ãƒ«ï¼‰ â”€â”€ */
const q8L = ['æ±åŒ—ã®é­…åŠ›ãŒã‚ˆãä¼ã‚ã£ãŸ','æ±åŒ—ã«è¡Œã£ã¦ã¿ãŸããªã£ãŸ','é›°å›²æ°—ãŒã‚ˆã‹ã£ãŸ','ã¾ãŸé–‹å‚¬ã—ã¦ã»ã—ã„','æ¬¡å›ã‚‚ãœã²æ¥ãŸã„','ã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ˆã‹ã£ãŸ','ã‚¤ãƒ¼ãƒˆã‚¤ãƒ³ã‚’åºƒãã—ã¦ã»ã—ã„','è¦³å…‰æƒ…å ±ã‚’ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã‹ã£ãŸ'];
const q8D = [59,28,22,19,14,7,5,4];
makeBar('q8Bar', q8L, q8D, C, true);
makePie('q8Pie', q8L, q8D, C, 4, 0.12);
</script>
</body>
</html>
